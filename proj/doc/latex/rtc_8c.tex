\doxysection{C\+:/\+Users/igorc/lcom/g2/proj/src/lib/drivers/rtc/rtc.c File Reference}
\hypertarget{rtc_8c}{}\label{rtc_8c}\index{C:/Users/igorc/lcom/g2/proj/src/lib/drivers/rtc/rtc.c@{C:/Users/igorc/lcom/g2/proj/src/lib/drivers/rtc/rtc.c}}
{\ttfamily \#include \"{}rtc.\+h\"{}}\newline
Include dependency graph for rtc.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=198pt]{rtc_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{rtc_8c_a023cfe181f8a45fabb033751cb4356dc}{rtc\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initializes the RTC (Real-\/\+Time Clock). \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_abd8de825e876e8ef94c64ac616f68a11}{rtc\+\_\+subscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Subscribes to RTC interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_ab8f17bf5280c908c8b199a90fefcc758}{rtc\+\_\+unsubscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes from RTC interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_af52c476187dd39a58930d74ad187ec50}{rtc\+IN}} (uint8\+\_\+t command, uint8\+\_\+t \texorpdfstring{$\ast$}{*}output)
\begin{DoxyCompactList}\small\item\em Reads data from RTC. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{rtc_8c_ae4c2eccc59963cb4d3c54881c214abbd}{rtc\+Is\+Updating}} ()
\begin{DoxyCompactList}\small\item\em Checks if RTC is updating. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{rtc_8c_ac19059d4296ae449b72fc52e6326bae9}{rtc\+Update}} ()
\begin{DoxyCompactList}\small\item\em Updates RTC information. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{rtc_8c_a53a35ec560d829db41ca144e062e9ffd}{\+\_\+bcd\+To\+Binary}} (uint8\+\_\+t bcd)
\begin{DoxyCompactList}\small\item\em Converts a BCD (Binary-\/\+Coded Decimal) value to binary. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{rtc_8c_acb6a2ad8c367ab473f266d0c9ed3bafc}{hook\+Id\+RTC}} = 5
\item 
bool \mbox{\hyperlink{rtc_8c_a02882488ec31703802c61a1f054cc89d}{is\+Rtc\+Binary}} = false
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{rtc_8c_a53a35ec560d829db41ca144e062e9ffd}\label{rtc_8c_a53a35ec560d829db41ca144e062e9ffd} 
\index{rtc.c@{rtc.c}!\_bcdToBinary@{\_bcdToBinary}}
\index{\_bcdToBinary@{\_bcdToBinary}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{\_bcdToBinary()}{\_bcdToBinary()}}
{\footnotesize\ttfamily uint8\+\_\+t \+\_\+bcd\+To\+Binary (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{bcd }\end{DoxyParamCaption})}



Converts a BCD (Binary-\/\+Coded Decimal) value to binary. 

This function converts a BCD value to its equivalent binary representation. 
\begin{DoxyParams}{Parameters}
{\em bcd} & BCD value to be converted. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Equivalent binary value. 
\end{DoxyReturn}
\Hypertarget{rtc_8c_a023cfe181f8a45fabb033751cb4356dc}\label{rtc_8c_a023cfe181f8a45fabb033751cb4356dc} 
\index{rtc.c@{rtc.c}!rtc\_init@{rtc\_init}}
\index{rtc\_init@{rtc\_init}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_init()}{rtc\_init()}}
{\footnotesize\ttfamily int rtc\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initializes the RTC (Real-\/\+Time Clock). 

This function initializes the RTC by reading the value of register B and setting the is\+Rtc\+Binary variable based on the value of the RTC\+\_\+\+DM bit in register B. \begin{DoxyReturn}{Returns}
Non-\/zero if an error occured. 
\end{DoxyReturn}
\Hypertarget{rtc_8c_abd8de825e876e8ef94c64ac616f68a11}\label{rtc_8c_abd8de825e876e8ef94c64ac616f68a11} 
\index{rtc.c@{rtc.c}!rtc\_subscribe\_int@{rtc\_subscribe\_int}}
\index{rtc\_subscribe\_int@{rtc\_subscribe\_int}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_subscribe\_int()}{rtc\_subscribe\_int()}}
{\footnotesize\ttfamily int rtc\+\_\+subscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Subscribes to RTC interrupts. 

This function subscribes to RTC interrupts by calling sys\+\_\+irqsetpolicy with the IRQ\+\_\+\+RTC parameter, IRQ\+\_\+\+REENABLE flag, and the address of the hook\+Id\+RTC variable.

\begin{DoxyReturn}{Returns}
Return value of sys\+\_\+irqsetpolicy. Returns a negative value if an error occurs, otherwise returns the bit mask representing the IRQ line. 
\end{DoxyReturn}
\Hypertarget{rtc_8c_ab8f17bf5280c908c8b199a90fefcc758}\label{rtc_8c_ab8f17bf5280c908c8b199a90fefcc758} 
\index{rtc.c@{rtc.c}!rtc\_unsubscribe\_int@{rtc\_unsubscribe\_int}}
\index{rtc\_unsubscribe\_int@{rtc\_unsubscribe\_int}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtc\_unsubscribe\_int()}{rtc\_unsubscribe\_int()}}
{\footnotesize\ttfamily int rtc\+\_\+unsubscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unsubscribes from RTC interrupts. 

This function unsubscribes from RTC interrupts by calling sys\+\_\+irqrmpolicy with the address of the hook\+Id\+RTC variable. \begin{DoxyReturn}{Returns}
Return value of sys\+\_\+irqrmpolicy. Returns non-\/zero value if an error occurs. 
\end{DoxyReturn}
\Hypertarget{rtc_8c_af52c476187dd39a58930d74ad187ec50}\label{rtc_8c_af52c476187dd39a58930d74ad187ec50} 
\index{rtc.c@{rtc.c}!rtcIN@{rtcIN}}
\index{rtcIN@{rtcIN}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtcIN()}{rtcIN()}}
{\footnotesize\ttfamily int rtc\+IN (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{command,  }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{output }\end{DoxyParamCaption})}



Reads data from RTC. 

This function reads data from the RTC by writing the specified command to RTC\+\_\+\+ADDR\+\_\+\+REG and then reading the data from RTC\+\_\+\+DATA\+\_\+\+REG. 
\begin{DoxyParams}{Parameters}
{\em command} & command to write to RTC\+\_\+\+ADDR\+\_\+\+REG. \\
\hline
{\em output} & pointer to a variable to store the read data. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Non-\/zero if an error occured. 
\end{DoxyReturn}
\Hypertarget{rtc_8c_ae4c2eccc59963cb4d3c54881c214abbd}\label{rtc_8c_ae4c2eccc59963cb4d3c54881c214abbd} 
\index{rtc.c@{rtc.c}!rtcIsUpdating@{rtcIsUpdating}}
\index{rtcIsUpdating@{rtcIsUpdating}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtcIsUpdating()}{rtcIsUpdating()}}
{\footnotesize\ttfamily bool rtc\+Is\+Updating (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Checks if RTC is updating. 

This function checks if the RTC is currently in the updating state by reading the RTC\+\_\+\+REGISTER\+\_\+A and checking the RTC\+\_\+\+UIP flag. \begin{DoxyReturn}{Returns}
True if the RTC is updating, False otherwise. 
\end{DoxyReturn}
\Hypertarget{rtc_8c_ac19059d4296ae449b72fc52e6326bae9}\label{rtc_8c_ac19059d4296ae449b72fc52e6326bae9} 
\index{rtc.c@{rtc.c}!rtcUpdate@{rtcUpdate}}
\index{rtcUpdate@{rtcUpdate}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{rtcUpdate()}{rtcUpdate()}}
{\footnotesize\ttfamily int rtc\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Updates RTC information. 

This function updates the RTC information by reading the values of the RTC registers. \begin{DoxyReturn}{Returns}
Non-\/zero if an error occured. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\Hypertarget{rtc_8c_acb6a2ad8c367ab473f266d0c9ed3bafc}\label{rtc_8c_acb6a2ad8c367ab473f266d0c9ed3bafc} 
\index{rtc.c@{rtc.c}!hookIdRTC@{hookIdRTC}}
\index{hookIdRTC@{hookIdRTC}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{hookIdRTC}{hookIdRTC}}
{\footnotesize\ttfamily int hook\+Id\+RTC = 5}

\Hypertarget{rtc_8c_a02882488ec31703802c61a1f054cc89d}\label{rtc_8c_a02882488ec31703802c61a1f054cc89d} 
\index{rtc.c@{rtc.c}!isRtcBinary@{isRtcBinary}}
\index{isRtcBinary@{isRtcBinary}!rtc.c@{rtc.c}}
\doxysubsubsection{\texorpdfstring{isRtcBinary}{isRtcBinary}}
{\footnotesize\ttfamily bool is\+Rtc\+Binary = false}

